document.body.innerHTML+="<canvas id='canv' oncontextmenu='return false;'></canvas>";var link=document.createElement("link");link.href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",link.rel="icon",link.type="image/x-icon",document.getElementsByTagName("head")[0].appendChild(link),document.body.style.setProperty("margin","0px"),document.documentElement.style.setProperty("margin","0px"),document.documentElement.style.setProperty("overflow","hidden"),document.getElementById("canv").addEventListener("mousemove",mouseMove),document.getElementById("canv").addEventListener("mousedown",mouseDown),document.getElementById("canv").addEventListener("mouseup",mouseUp),document.getElementById("canv").addEventListener("mousewheel",mouseWheel),document.title="PS";let options={width:0,height:0,cameraCenterX:0,cameraCenterY:0,isMouseDown:!1,lastMouseX:0,lastMouseY:0,cameraZoom:1,fillColor:"lightgray"};function initialBoot(){"function"==typeof firstUpdate&&firstUpdate(options),update(options),"undefined"!=typeof options.tickOnce&&options.tickOnce?setTimeout(tick,33):setInterval(tick,33)}function tick(){var c=new Date,a=c.getTime();update(),drawCanvas()}function update(){canvas=document.getElementById("canv"),options.width=window.innerWidth,options.height=window.innerHeight,canvas.width=options.width,canvas.height=options.height,"function"==typeof customUpdate&&customUpdate(options),drawCanvas()}function drawCanvas(){var b=canvas.getContext("2d");b.fillStyle=options.fillColor,b.fillRect(0,0,canvas.width,canvas.height),b.save(),b.translate(options.width/2-options.cameraCenterX,options.height/2-options.cameraCenterY),b.scale(options.cameraZoom,options.cameraZoom),"function"==typeof customDraw&&customDraw(b,options),b.restore(),"function"==typeof customUI&&customUI(b,options)}function mouseMove(d){if(!noEvents()){let e=d.clientX,b=d.clientY;if(options.isMouseDown){let c=e-lastMouseX,a=b-lastMouseY;options.cameraCenterX-=c,options.cameraCenterY-=a}lastMouseX=d.clientX,lastMouseY=d.clientY}}function mouseDown(d){if(!noEvents()){let a=d.clientX,b=d.clientY;lastMouseX=d.clientX,lastMouseY=d.clientY,options.isMouseDown=!0}}function mouseUp(d){if(!noEvents()){let a=d.clientX,b=d.clientY;lastMouseX=d.clientX,lastMouseY=d.clientY,options.isMouseDown=!1}}function mouseWheel(f){if(noEvents())return;let a=f.clientX-(options.width/2-options.cameraCenterX),g=f.clientY-(options.height/2-options.cameraCenterY);a/=options.cameraZoom,g/=options.cameraZoom,0<f.wheelDelta?options.cameraZoom*=1.1:0>f.wheelDelta&&(options.cameraZoom/=1.1);let h=f.clientX-(options.width/2-options.cameraCenterX),i=f.clientY-(options.height/2-options.cameraCenterY);h/=options.cameraZoom,i/=options.cameraZoom,options.cameraCenterX-=h-a,options.cameraCenterY-=i-g}function noEvents(){return"undefined"!=typeof options.ignoreEvents&&options.ignoreEvents}initialBoot();