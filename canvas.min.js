document.body.innerHTML+="<canvas id='canv' oncontextmenu='return false;'></canvas>",document.body.style.setProperty("margin","0px"),document.documentElement.style.setProperty("margin","0px"),document.documentElement.style.setProperty("overflow","hidden"),document.getElementById("canv").addEventListener("mousemove",mouseMove),document.getElementById("canv").addEventListener("mousedown",mouseDown),document.getElementById("canv").addEventListener("mouseup",mouseUp),document.getElementById("canv").addEventListener("mousewheel",mouseWheel);let options={width:0,height:0,cameraCenterX:0,cameraCenterY:0,isMouseDown:!1,lastMouseX:0,lastMouseY:0,cameraZoom:1,fillColor:"lightgray"};function initialBoot(){"function"==typeof firstUpdate&&firstUpdate(options),update(options),"undefined"!=typeof options.tickOnce&&options.tickOnce?setTimeout(tick,33):setInterval(tick,33)}function tick(){var a=new Date,b=a.getTime();update(),drawCanvas()}function update(){canvas=document.getElementById("canv"),options.width=window.innerWidth,options.height=window.innerHeight,canvas.width=options.width,canvas.height=options.height,"function"==typeof customUpdate&&customUpdate(options),drawCanvas()}function drawCanvas(){var a=canvas.getContext("2d");a.fillStyle=options.fillColor,a.fillRect(0,0,canvas.width,canvas.height),a.save(),a.translate(options.width/2-options.cameraCenterX,options.height/2-options.cameraCenterY),a.scale(options.cameraZoom,options.cameraZoom),"function"==typeof customDraw&&customDraw(a,options),a.restore(),"function"==typeof customUI&&customUI(a,options)}function mouseMove(a){if(noEvents())return;let b=a.clientX,c=a.clientY;if(options.isMouseDown){let a=b-lastMouseX,d=c-lastMouseY;options.cameraCenterX-=a,options.cameraCenterY-=d}lastMouseX=a.clientX,lastMouseY=a.clientY}function mouseDown(a){if(noEvents())return;let b=a.clientX,c=a.clientY;lastMouseX=a.clientX,lastMouseY=a.clientY,options.isMouseDown=!0}function mouseUp(a){if(noEvents())return;let b=a.clientX,c=a.clientY;lastMouseX=a.clientX,lastMouseY=a.clientY,options.isMouseDown=!1}function mouseWheel(a){if(noEvents())return;let b=a.clientX-(options.width/2-options.cameraCenterX),c=a.clientY-(options.height/2-options.cameraCenterY);b/=options.cameraZoom,c/=options.cameraZoom,0<a.wheelDelta?options.cameraZoom*=1.1:0>a.wheelDelta&&(options.cameraZoom/=1.1);let d=a.clientX-(options.width/2-options.cameraCenterX),e=a.clientY-(options.height/2-options.cameraCenterY);d/=options.cameraZoom,e/=options.cameraZoom,options.cameraCenterX-=d-b,options.cameraCenterY-=e-c}function noEvents(){return"undefined"!=typeof options.ignoreEvents&&options.ignoreEvents}initialBoot();