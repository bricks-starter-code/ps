document.body.innerHTML+="<canvas id='canv' oncontextmenu='return false;'></canvas>";var link=document.createElement("link");link.href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",link.rel="icon",link.type="image/x-icon",document.getElementsByTagName("head")[0].appendChild(link),document.body.style.setProperty("margin","0px"),document.documentElement.style.setProperty("margin","0px"),document.documentElement.style.setProperty("overflow","hidden"),document.getElementById("canv").addEventListener("mousemove",mouseMove),document.getElementById("canv").addEventListener("mousedown",mouseDown),document.getElementById("canv").addEventListener("mouseup",mouseUp),document.getElementById("canv").addEventListener("mousewheel",mouseWheel),document.title="PS";let options={width:0,height:0,cameraCenterX:0,cameraCenterY:0,isMouseDown:!1,lastMouseX:0,lastMouseY:0,cameraZoom:1,fillColor:"lightgray"};function initialBoot(){"function"==typeof firstUpdate&&firstUpdate(options),update(options),"undefined"!=typeof options.tickOnce&&options.tickOnce?setTimeout(tick,33):setInterval(tick,33)}function tick(){var b=new Date,c=b.getTime();update(),drawCanvas()}function update(){canvas=document.getElementById("canv"),options.width=window.innerWidth,options.height=window.innerHeight,canvas.width=options.width,canvas.height=options.height,"function"==typeof customUpdate&&customUpdate(options),drawCanvas()}function drawCanvas(){var a=canvas.getContext("2d");a.fillStyle=options.fillColor,a.fillRect(0,0,canvas.width,canvas.height),a.save(),a.translate(options.width/2-options.cameraCenterX,options.height/2-options.cameraCenterY),a.scale(options.cameraZoom,options.cameraZoom),"function"==typeof customDraw&&customDraw(a,options),a.restore(),"function"==typeof customUI&&customUI(a,options)}function mouseMove(a){if(!noEvents()){let d=a.clientX,e=a.clientY;if(options.isMouseDown){let b=d-lastMouseX,c=e-lastMouseY;options.cameraCenterX-=b,options.cameraCenterY-=c}lastMouseX=a.clientX,lastMouseY=a.clientY}}function mouseDown(c){if(!noEvents()){let d=c.clientX,a=c.clientY;lastMouseX=c.clientX,lastMouseY=c.clientY,options.isMouseDown=!0}}function mouseUp(c){if(!noEvents()){let d=c.clientX,a=c.clientY;lastMouseX=c.clientX,lastMouseY=c.clientY,options.isMouseDown=!1}}function mouseWheel(b){if(noEvents())return;let c=b.clientX-(options.width/2-options.cameraCenterX),d=b.clientY-(options.height/2-options.cameraCenterY);c/=options.cameraZoom,d/=options.cameraZoom,0<b.wheelDelta?options.cameraZoom*=1.1:0>b.wheelDelta&&(options.cameraZoom/=1.1);let e=b.clientX-(options.width/2-options.cameraCenterX),f=b.clientY-(options.height/2-options.cameraCenterY);e/=options.cameraZoom,f/=options.cameraZoom,options.cameraCenterX-=e-c,options.cameraCenterY-=f-d}function noEvents(){return"undefined"!=typeof options.ignoreEvents&&options.ignoreEvents}initialBoot();